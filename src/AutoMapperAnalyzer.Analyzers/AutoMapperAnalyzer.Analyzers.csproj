<Project Sdk="Microsoft.NET.Sdk">
    <PropertyGroup>
        <TargetFramework>netstandard2.0</TargetFramework>
        <ImplicitUsings>enable</ImplicitUsings>
        <Nullable>enable</Nullable>
        <LangVersion>latest</LangVersion>
        <GenerateDocumentationFile>true</GenerateDocumentationFile>
        <EnforceExtendedAnalyzerRules>true</EnforceExtendedAnalyzerRules>
        <!-- Analyzer Package Configuration -->
        <IncludeBuildOutput>false</IncludeBuildOutput>
        <GeneratePackageOnBuild>false</GeneratePackageOnBuild>
        <DevelopmentDependency>true</DevelopmentDependency>
        <PrivateAssets>all</PrivateAssets>
        <!-- NuGet Package Metadata -->
        <PackageId>AutoMapperAnalyzer.Analyzers</PackageId>
        <!-- Semantic Versioning: Version is set by release workflow via /p:PackageVersion=X.Y.Z -->
        <!-- Fallback for local builds: 2.0.YYYYMMDD-local -->
        <MajorVersion>2</MajorVersion>
        <MinorVersion>6</MinorVersion>
        <PatchVersion>0</PatchVersion>
        <BuildNumber Condition="'$(BuildNumber)' == ''"
        >$([System.DateTime]::Now.ToString('yyyyMMdd'))
        </BuildNumber
        >
        <PackageVersion Condition="'$(PackageVersion)' == ''">$(MajorVersion).$(MinorVersion).$(PatchVersion)</PackageVersion>
        <Title>AutoMapper Roslyn Analyzer</Title>
        <Authors>George Wall</Authors>
        <Description>Catch AutoMapper configuration errors at compile-time before they cause runtime chaos! This Roslyn analyzer detects type mismatches, nullable issues, missing properties, collection incompatibilities, and complex mapping problems - all with intelligent code fixes. Transform AutoMapper development from reactive debugging to proactive prevention. Features 13 analyzer rules with smart fixes for type safety, data integrity, complex mappings, performance, and configuration. Compatible with .NET Framework 4.8+, .NET 6.0+, 8.0+, 9.0+, 10.0+.</Description>
        <PackageTags>roslyn;analyzer;automapper;mapping;static-analysis;codeanalysis;code-quality;diagnostics;code-fix;type-safety;compile-time;netframework;netcore;dotnet;dotnet6;dotnet8;dotnet9;dotnet10</PackageTags>
        <PackageLicenseExpression>MIT</PackageLicenseExpression>
        <PackageProjectUrl>https://github.com/georgepwall1991/automapper-analyser</PackageProjectUrl>
        <RepositoryUrl>https://github.com/georgepwall1991/automapper-analyser</RepositoryUrl>
        <RepositoryType>git</RepositoryType>
        <PackageRequireLicenseAcceptance>false</PackageRequireLicenseAcceptance>
        <PackageReleaseNotes>Version 2.6.0 - Bulk Fixes &amp; Improved UX

            ✨ New Features:
            - 📦 Bulk Code Fixes (AM011): Fix all unmapped required properties in one click!
            - 🗂️ Action Grouping: Reduced lightbulb menu clutter by grouping property-specific fixes.
            - 🧠 Smart Property Creation (AM004): Automatically creates missing destination properties across files
            - 🔍 Fuzzy Matching (AM011): Suggests mappings for unmapped required properties based on name similarity
            - 🛠️ Type Converter Generation (AM030): Generates full IValueConverter implementation classes
            - ⚡ Cross-File Performance Fixes (AM031): Can move expensive computations to source classes in different files
            
            🧹 General maintenance and reliability improvements
        </PackageReleaseNotes>
        <PackageReadmeFile>README.md</PackageReadmeFile>
        <PackageIcon>icon.png</PackageIcon>
        <!-- Remove strict PackageType for broader compatibility -->
        <NoPackageAnalysis>true</NoPackageAnalysis>
        <NoWarn>$(NoWarn);RS1038;RS2008</NoWarn>
    </PropertyGroup>
    <ItemGroup>
        <PackageReference
                Include="Microsoft.CodeAnalysis.Analyzers"
                Version="4.14.0"
                PrivateAssets="all"
        />
        <PackageReference Include="Microsoft.CodeAnalysis.CSharp" Version="5.0.0" PrivateAssets="all"/>
        <PackageReference Include="Microsoft.CodeAnalysis.CSharp.Workspaces" Version="5.0.0" PrivateAssets="all"/>
        <PackageReference Include="Microsoft.CodeAnalysis.Workspaces.Common" Version="5.0.0" PrivateAssets="all"/>
    </ItemGroup>
    <ItemGroup>
        <None Include="..\..\README.md" Pack="true" PackagePath="\"/>
        <None Include="..\..\icon.png" Pack="true" PackagePath="\"/>
    </ItemGroup>
    <!-- Analyzer files for NuGet package -->
    <ItemGroup>
        <None
                Include="bin\$(Configuration)\$(TargetFramework)\$(AssemblyName).dll"
                Pack="true"
                PackagePath="analyzers\dotnet\cs\$(AssemblyName).dll"
                Visible="false"
        />
        <None
                Include="bin\$(Configuration)\$(TargetFramework)\$(AssemblyName).dll"
                Pack="true"
                PackagePath="analyzers\dotnet\$(AssemblyName).dll"
                Visible="false"
        />
    </ItemGroup>
</Project>
